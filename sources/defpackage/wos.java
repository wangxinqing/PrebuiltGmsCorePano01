package defpackage;

import android.net.Uri;

/* renamed from: wos  reason: default package */
/* compiled from: :com.google.android.gms@201216073@20.12.16 (080306-306753009) */
public final class wos extends wnf {
    private final String c;
    private final String d;
    private final Uri e;
    private final boolean f;

    /* JADX WARNING: Removed duplicated region for block: B:131:0x0329  */
    /* JADX WARNING: Removed duplicated region for block: B:41:0x0147  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public final android.util.Pair a(android.content.Context r13, defpackage.wmr r14, defpackage.xpk r15) {
        /*
            r12 = this;
            java.lang.String r0 = "ImageUtils"
            android.os.Bundle r1 = new android.os.Bundle
            r1.<init>()
            android.net.Uri r2 = r12.e
            wmi r3 = r12.b
            byte[] r2 = defpackage.wmr.a((android.content.Context) r13, (android.net.Uri) r2)
            aqwp r4 = defpackage.aqwp.d
            aucd r4 = r4.o()
            aqur r5 = defpackage.aqur.c
            aucd r5 = r5.o()
            boolean r6 = r5.c
            r7 = 0
            if (r6 != 0) goto L_0x0021
            goto L_0x0026
        L_0x0021:
            r5.c()
            r5.c = r7
        L_0x0026:
            aucj r6 = r5.b
            aqur r6 = (defpackage.aqur) r6
            java.lang.String r8 = "gms-core-menagerie"
            r8.getClass()
            r6.a = r8
            ihs r6 = defpackage.ihs.b()
            java.lang.String r6 = defpackage.jhg.e((android.content.Context) r6)
            boolean r8 = r5.c
            if (r8 != 0) goto L_0x003e
            goto L_0x0043
        L_0x003e:
            r5.c()
            r5.c = r7
        L_0x0043:
            aucj r8 = r5.b
            aqur r8 = (defpackage.aqur) r8
            r6.getClass()
            r8.b = r6
            boolean r6 = r4.c
            if (r6 != 0) goto L_0x0051
            goto L_0x0056
        L_0x0051:
            r4.c()
            r4.c = r7
        L_0x0056:
            aucj r6 = r4.b
            aqwp r6 = (defpackage.aqwp) r6
            aucj r5 = r5.i()
            aqur r5 = (defpackage.aqur) r5
            r5.getClass()
            r6.a = r5
            aucj r4 = r4.i()
            aqwp r4 = (defpackage.aqwp) r4
            aqxi r5 = defpackage.aqxi.h
            aucd r5 = r5.o()
            boolean r6 = r5.c
            if (r6 != 0) goto L_0x0076
            goto L_0x007b
        L_0x0076:
            r5.c()
            r5.c = r7
        L_0x007b:
            aucj r6 = r5.b
            aqxi r6 = (defpackage.aqxi) r6
            r8 = 4
            int r8 = defpackage.aqwt.a(r8)
            r6.a = r8
            boolean r6 = r5.c
            if (r6 != 0) goto L_0x008b
            goto L_0x0090
        L_0x008b:
            r5.c()
            r5.c = r7
        L_0x0090:
            aucj r6 = r5.b
            aqxi r6 = (defpackage.aqxi) r6
            r8 = 3
            int r8 = defpackage.aqxh.a(r8)
            r6.g = r8
            if (r2 != 0) goto L_0x00a0
            auay r2 = defpackage.auay.b
            goto L_0x00a4
        L_0x00a0:
            auay r2 = defpackage.auay.a((byte[]) r2)
        L_0x00a4:
            boolean r6 = r5.c
            if (r6 != 0) goto L_0x00a9
            goto L_0x00ae
        L_0x00a9:
            r5.c()
            r5.c = r7
        L_0x00ae:
            aucj r6 = r5.b
            aqxi r6 = (defpackage.aqxi) r6
            r2.getClass()
            r6.c = r2
            r4.getClass()
            r6.d = r4
            amfr r2 = defpackage.amfr.b
            aucd r2 = r2.o()
            amfq r4 = defpackage.amfq.PUBLIC_READ
            boolean r6 = r2.c
            if (r6 != 0) goto L_0x00c9
            goto L_0x00ce
        L_0x00c9:
            r2.c()
            r2.c = r7
        L_0x00ce:
            aucj r6 = r2.b
            amfr r6 = (defpackage.amfr) r6
            r4.getClass()
            aucs r8 = r6.a
            boolean r8 = r8.a()
            if (r8 == 0) goto L_0x00de
            goto L_0x00e6
        L_0x00de:
            aucs r8 = r6.a
            aucs r8 = defpackage.aucj.a((defpackage.aucs) r8)
            r6.a = r8
        L_0x00e6:
            aucs r6 = r6.a
            int r4 = r4.g
            r6.d(r4)
            boolean r4 = r5.c
            if (r4 != 0) goto L_0x00f2
            goto L_0x00f7
        L_0x00f2:
            r5.c()
            r5.c = r7
        L_0x00f7:
            aucj r4 = r5.b
            aqxi r4 = (defpackage.aqxi) r4
            aucj r2 = r2.i()
            amfr r2 = (defpackage.amfr) r2
            r2.getClass()
            r4.e = r2
            aucj r2 = r5.i()
            aqxi r2 = (defpackage.aqxi) r2
            aywm r4 = defpackage.aywm.a     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            aywn r4 = r4.a()     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            boolean r4 = r4.a()     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            r5 = 5
            if (r4 != 0) goto L_0x011a
            goto L_0x013b
        L_0x011a:
            if (r3 == 0) goto L_0x013b
            amtd r4 = defpackage.ampt.a     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            amsn r4 = defpackage.amsn.b(r4)     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            xpp r14 = r14.c     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            com.google.android.gms.common.internal.ClientContext r15 = r15.a     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            aqxj r14 = r14.a((com.google.android.gms.common.internal.ClientContext) r15, (defpackage.aqxi) r2)     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            java.util.concurrent.TimeUnit r15 = java.util.concurrent.TimeUnit.MICROSECONDS     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            long r8 = r4.a((java.util.concurrent.TimeUnit) r15)     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            xmc r15 = defpackage.wml.b(r5, r8)     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            r3.a((defpackage.xmc) r15)     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            r4.e()     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            goto L_0x0143
        L_0x013b:
            xpp r14 = r14.c     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            com.google.android.gms.common.internal.ClientContext r15 = r15.a     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            aqxj r14 = r14.a((com.google.android.gms.common.internal.ClientContext) r15, (defpackage.aqxi) r2)     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
        L_0x0143:
            java.lang.String r14 = r14.b     // Catch:{ eif -> 0x0333, babk -> 0x0331 }
            if (r14 == 0) goto L_0x0329
            wtz r15 = defpackage.wtz.a((android.content.Context) r13)
            java.lang.String r2 = r12.c
            java.lang.String r3 = r12.d
            defpackage.iva.c(r2)
            defpackage.iva.c(r14)
            android.content.ContentValues r4 = new android.content.ContentValues
            r4.<init>()
            java.lang.String r6 = defpackage.ycc.a((java.lang.String) r14)
            java.lang.String r8 = "avatar"
            r4.put(r8, r6)
            android.content.Context r6 = r15.b
            jiq r6 = defpackage.ycm.a((android.content.Context) r6)
            long r8 = r6.a()
            java.lang.StringBuilder r6 = new java.lang.StringBuilder
            r10 = 25
            r6.<init>(r10)
            java.lang.String r10 = "xtag:"
            r6.append(r10)
            r6.append(r8)
            java.lang.String r6 = r6.toString()
            java.lang.String r8 = "etag"
            r4.put(r8, r6)
            wtx r6 = r15.c()
            r6.a()
            wtw r8 = r15.f     // Catch:{ all -> 0x0324 }
            java.lang.String r8 = r8.b(r2, r3)     // Catch:{ all -> 0x0324 }
            r9 = 1
            java.lang.String[] r10 = new java.lang.String[r9]     // Catch:{ all -> 0x0324 }
            r10[r7] = r8     // Catch:{ all -> 0x0324 }
            java.lang.String r8 = "owners"
            java.lang.String r11 = "_id=?"
            int r4 = r6.a((java.lang.String) r8, (android.content.ContentValues) r4, (java.lang.String) r11, (java.lang.String[]) r10)     // Catch:{ all -> 0x0324 }
            if (r4 != r9) goto L_0x01ae
            android.content.Context r15 = r15.b     // Catch:{ all -> 0x0324 }
            wmy r15 = defpackage.wmy.a((android.content.Context) r15)     // Catch:{ all -> 0x0324 }
            r15.a(r2, r3, r9)     // Catch:{ all -> 0x0324 }
            r6.b()     // Catch:{ all -> 0x0324 }
            goto L_0x01af
        L_0x01ae:
            r9 = 0
        L_0x01af:
            r6.d()
            if (r9 == 0) goto L_0x031c
            java.lang.String r15 = "avatarurl"
            r1.putString(r15, r14)
            android.net.Uri r15 = r12.e
            boolean r15 = defpackage.jju.a((android.net.Uri) r15)
            if (r15 == 0) goto L_0x01d6
            android.net.Uri r15 = r12.e
            byte[] r15 = defpackage.wmr.a((android.content.Context) r13, (android.net.Uri) r15)
            ybt r2 = defpackage.ybt.a((android.content.Context) r13)
            java.lang.String r3 = r12.c
            java.lang.String r4 = r12.d
            java.lang.String r14 = defpackage.ycc.a((java.lang.String) r14)
            r2.a((java.lang.String) r3, (java.lang.String) r4, (java.lang.String) r14, (byte[]) r15)
        L_0x01d6:
            android.net.Uri r14 = r12.e
            boolean r14 = defpackage.jju.a((android.net.Uri) r14)
            if (r14 == 0) goto L_0x0305
            boolean r14 = r12.f
            if (r14 == 0) goto L_0x0305
            android.net.Uri r14 = r12.e
            boolean r15 = defpackage.jju.a((android.net.Uri) r14)
            if (r15 == 0) goto L_0x02e0
            java.io.File r15 = new java.io.File
            java.lang.String r14 = r14.getPath()
            r15.<init>(r14)
            long r2 = java.lang.System.currentTimeMillis()
            java.text.SimpleDateFormat r14 = defpackage.jju.a
            java.util.Date r4 = new java.util.Date
            r4.<init>(r2)
            java.lang.String r14 = r14.format(r4)
            android.content.ContentResolver r4 = r13.getContentResolver()
            android.content.ContentValues r6 = new android.content.ContentValues
            r6.<init>(r5)
            java.lang.String r5 = r15.getAbsolutePath()
            int r5 = defpackage.jju.a((java.lang.String) r5)
            java.lang.String r8 = "title"
            r6.put(r8, r14)
            java.lang.String r14 = java.lang.String.valueOf(r14)
            java.lang.String r8 = ".jpg"
            java.lang.String r14 = r14.concat(r8)
            java.lang.String r8 = "_display_name"
            r6.put(r8, r14)
            java.lang.Long r14 = java.lang.Long.valueOf(r2)
            java.lang.String r2 = "datetaken"
            r6.put(r2, r14)
            java.lang.String r14 = "mime_type"
            java.lang.String r2 = "image/jpeg"
            r6.put(r14, r2)
            java.lang.Integer r14 = java.lang.Integer.valueOf(r5)
            java.lang.String r2 = "orientation"
            r6.put(r2, r14)
            android.net.Uri r14 = android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI     // Catch:{ Exception -> 0x0247 }
            android.net.Uri r14 = r4.insert(r14, r6)     // Catch:{ Exception -> 0x0247 }
            goto L_0x0256
        L_0x0247:
            r14 = move-exception
            android.net.Uri r14 = android.provider.MediaStore.Images.Media.INTERNAL_CONTENT_URI     // Catch:{ Exception -> 0x024f }
            android.net.Uri r14 = r4.insert(r14, r6)     // Catch:{ Exception -> 0x024f }
            goto L_0x0256
        L_0x024f:
            r14 = move-exception
            android.net.Uri r14 = defpackage.jka.a     // Catch:{ Exception -> 0x02d9 }
            android.net.Uri r14 = r4.insert(r14, r6)     // Catch:{ Exception -> 0x02d9 }
        L_0x0256:
            java.lang.String r2 = defpackage.jka.a((android.content.ContentResolver) r4, (android.net.Uri) r14)
            if (r2 == 0) goto L_0x0278
            java.io.File r3 = new java.io.File
            r3.<init>(r2)
            java.io.File r2 = r3.getParentFile()
            if (r2 == 0) goto L_0x0278
            boolean r3 = r2.exists()
            if (r3 != 0) goto L_0x0278
            boolean r2 = r2.mkdirs()
            if (r2 != 0) goto L_0x0278
            java.lang.String r2 = "Failed to create media directory."
            android.util.Log.e(r0, r2)
        L_0x0278:
            r2 = 0
            java.io.OutputStream r3 = r4.openOutputStream(r14)     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            java.io.FileInputStream r5 = new java.io.FileInputStream     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            r5.<init>(r15)     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            r6 = 10240(0x2800, float:1.4349E-41)
            byte[] r6 = new byte[r6]     // Catch:{ all -> 0x02a9 }
        L_0x0286:
            int r8 = r5.read(r6)     // Catch:{ all -> 0x02a9 }
            r9 = -1
            if (r8 != r9) goto L_0x02a4
            r3.close()     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            r5.close()     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            boolean r3 = defpackage.jka.b(r14)     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            if (r3 != 0) goto L_0x029a
            goto L_0x02c1
        L_0x029a:
            android.graphics.Bitmap r3 = defpackage.jka.a((android.content.Context) r13, (android.net.Uri) r14)     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            if (r3 == 0) goto L_0x02c1
            r3.recycle()     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            goto L_0x02c1
        L_0x02a4:
            r3.write(r6, r7, r8)     // Catch:{ all -> 0x02a9 }
            goto L_0x0286
        L_0x02a9:
            r6 = move-exception
            r3.close()     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            r5.close()     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
            throw r6     // Catch:{ FileNotFoundException -> 0x02c5, Exception -> 0x02b3 }
        L_0x02b1:
            r13 = move-exception
            goto L_0x02d5
        L_0x02b3:
            r3 = move-exception
            java.lang.String r5 = "Failed to insert image"
            android.util.Log.e(r0, r5, r3)     // Catch:{ all -> 0x02b1 }
            if (r14 != 0) goto L_0x02bc
            goto L_0x02c1
        L_0x02bc:
            r4.delete(r14, r2, r2)     // Catch:{ all -> 0x02b1 }
            r14 = r2
        L_0x02c1:
            r15.delete()
            goto L_0x02cf
        L_0x02c5:
            r14 = move-exception
            java.lang.String r3 = "File not found"
            android.util.Log.e(r0, r3, r14)     // Catch:{ all -> 0x02b1 }
            r15.delete()
            r14 = r2
        L_0x02cf:
            if (r14 == 0) goto L_0x0305
            r14.toString()
            goto L_0x0305
        L_0x02d5:
            r15.delete()
            throw r13
        L_0x02d9:
            r14 = move-exception
            java.lang.String r15 = "Failed to save image"
            android.util.Log.e(r0, r15, r14)
            goto L_0x0305
        L_0x02e0:
            java.lang.IllegalArgumentException r13 = new java.lang.IllegalArgumentException
            java.lang.String r14 = java.lang.String.valueOf(r14)
            java.lang.String r15 = java.lang.String.valueOf(r14)
            int r15 = r15.length()
            java.lang.StringBuilder r0 = new java.lang.StringBuilder
            int r15 = r15 + 16
            r0.<init>(r15)
            java.lang.String r15 = "Not a file uri: "
            r0.append(r15)
            r0.append(r14)
            java.lang.String r14 = r0.toString()
            r13.<init>(r14)
            throw r13
        L_0x0305:
            java.lang.String r14 = r12.d
            if (r14 != 0) goto L_0x0314
            xej r13 = defpackage.xej.a((android.content.Context) r13)
            java.lang.String r14 = r12.c
            java.lang.String r15 = "SetAvatar"
            r13.e(r14, r15)
        L_0x0314:
            android.util.Pair r13 = new android.util.Pair
            xqy r14 = defpackage.xqy.c
            r13.<init>(r14, r1)
            return r13
        L_0x031c:
            android.util.Pair r13 = new android.util.Pair
            xqy r14 = defpackage.xqy.e
            r13.<init>(r14, r1)
            return r13
        L_0x0324:
            r13 = move-exception
            r6.d()
            throw r13
        L_0x0329:
            android.util.Pair r13 = new android.util.Pair
            xqy r14 = defpackage.xqy.e
            r13.<init>(r14, r1)
            return r13
        L_0x0331:
            r13 = move-exception
            goto L_0x0334
        L_0x0333:
            r13 = move-exception
        L_0x0334:
            java.lang.String r14 = "DataBroker"
            java.lang.String r15 = "updatePersonPhotoUrl() failed."
            android.util.Log.e(r14, r15, r13)
            goto L_0x033d
        L_0x033c:
            throw r13
        L_0x033d:
            goto L_0x033c
        */
        throw new UnsupportedOperationException("Method not decompiled: defpackage.wos.a(android.content.Context, wmr, xpk):android.util.Pair");
    }

    /* JADX INFO: super call moved to the top of the method (can break code semantics) */
    public wos(String str, int i, String str2, wzv wzv, String str3, String str4, Uri uri, boolean z) {
        super(wzv, str, i, str2, str3, str4, "SetAvatar", 5389);
        this.c = str3;
        this.d = str4;
        this.e = uri;
        this.f = z;
    }
}
